# ╔════════════════════════════════════════════════════════════════════╗
# ║  HR Platform - إعدادات قاعدة البيانات والتكوين                      ║
# ║  config.py # - ملف الإعدادات (تغير بيانات Supabase هنا فقط)            ║
# ╚════════════════════════════════════════════════════════════════════╝

import os
from datetime import datetime

# ═══════════════════════════════════════════════════════════════════════
# 🔧 إعدادات Supabase (استبدل هذه البيانات ببيانات مشروعك)
# ═══════════════════════════════════════════════════════════════════════

SUPABASE_URL = "https://your-project.supabase.co"  # ⬅️ غير هنا
SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."  # ⬅️ غير هنا

# ═══════════════════════════════════════════════════════════════════════
# 📋 إعدادات التطبيق
# ═══════════════════════════════════════════════════════════════════════

APP_TITLE = "منصة إدارة الموارد البشرية 🏢"
APP_DESCRIPTION = "نظام إدارة متكامل للموظفين والطلبات والوثائق"
APP_VERSION = "4.0"
APP_ICON = "🏢"

# ═══════════════════════════════════════════════════════════════════════
# 👥 إعدادات الموظفين
# ═══════════════════════════════════════════════════════════════════════

EMPLOYEES = {
    "001": {"name": "أحمد محمد", "role": "موظف عادي", "department": "IT", "email": "ahmed@company.com"},
    "002": {"name": "فاطمة علي", "role": "موظفة", "department": "المحاسبة", "email": "fatima@company.com"},
    "003": {"name": "محمود خالد", "role": "مدير القسم", "department": "المبيعات", "email": "mahmoud@company.com"},
    "004": {"name": "نور حسين", "role": "منسقة إدارية", "department": "الإدارة", "email": "noor@company.com"},
    "005": {"name": "سارة علي", "role": "مديرة الموارد البشرية", "department": "HR", "email": "sarah@company.com"},
}

# ═══════════════════════════════════════════════════════════════════════
# 🏢 أنواع الأقسام
# ═══════════════════════════════════════════════════════════════════════

DEPARTMENTS = [
    "تقنية المعلومات",
    "الموارد البشرية",
    "المحاسبة",
    "المبيعات",
    "الإدارة العامة",
    "التسويق",
    "العمليات",
]

# ═══════════════════════════════════════════════════════════════════════
# 📋 أنواع الطلبات (النظام القديم)
# ═══════════════════════════════════════════════════════════════════════

REQUEST_TYPES = {
    "vacation": {
        "name": "طلب إجازة",
        "icon": "🏖️",
        "subtypes": ["سنوية", "مرضية", "طارئة", "بدون أجر"]
    },
    "advance": {
        "name": "طلب سلفة",
        "icon": "💰",
        "subtypes": ["عادية", "طارئة", "إسكان"]
    },
    "travel": {
        "name": "رحلة عمل",
        "icon": "✈️",
        "subtypes": ["محلية", "خليجية", "دولية"]
    },
    "permission": {
        "name": "استئذان",
        "icon": "📍",
        "subtypes": ["ساعات", "أيام"]
    },
    "purchase": {
        "name": "طلب شراء",
        "icon": "📦",
        "subtypes": ["معدات", "أثاث", "خدمات"]
    },
    "deduction": {
        "name": "استرجاع خصم",
        "icon": "💵",
        "subtypes": ["خطأ إداري", "تحويل خاطئ"]
    },
    "warning": {
        "name": "إنذار تأديبي",
        "icon": "⚠️",
        "subtypes": ["شفوي", "كتابي", "نهائي"]
    },
    "development": {
        "name": "تطوير وظيفي",
        "icon": "📈",
        "subtypes": ["تدريب", "ترقية", "نقل"]
    },
}

# ═══════════════════════════════════════════════════════════════════════
# 🗄️ جداول قاعدة البيانات
# ═══════════════════════════════════════════════════════════════════════

# جدول الموظفين (الجوازات والإقامات)
EMPLOYEES_TABLE = "employees"

# جدول الطلبات
REQUESTS_TABLE = "requests"

# جدول الموافقات
APPROVALS_TABLE = "approvals"

# جدول سجل النشاط
ACTIVITY_LOG_TABLE = "activity_log"

# جدول البيانات الإضافية
EXTRA_DATA_TABLE = "extra_data"

# ═══════════════════════════════════════════════════════════════════════
# 🎨 إعدادات الألوان والتصميم
# ═══════════════════════════════════════════════════════════════════════

COLORS = {
    "primary": "#00A86B",
    "secondary": "#1F4788",
    "success": "#28A745",
    "warning": "#FFC107",
    "danger": "#DC3545",
    "info": "#17A2B8",
}

ALERT_LEVELS = {
    "critical": {"color": "🔴", "level": "حرج"},
    "urgent": {"color": "🟠", "level": "عاجل"},
    "warning": {"color": "🟡", "level": "تحذير"},
    "normal": {"color": "🟢", "level": "عادي"},
}

# ═══════════════════════════════════════════════════════════════════════
# ⏱️ إعدادات المدة والحدود
# ═══════════════════════════════════════════════════════════════════════

LIMITS = {
    "vacation_annual": 30,
    "vacation_sick": 15,
    "vacation_emergency": 5,
    "permission_hours": 120,
    "advance_monthly": 5000,
    "purchase_limit": 10000,
}

# ═══════════════════════════════════════════════════════════════════════
# 📧 إعدادات البريد والإخطارات
# ═══════════════════════════════════════════════════════════════════════

COMPANY_EMAIL = "hr@company.com"
COMPANY_PHONE = "920000000"
SUPPORT_EMAIL = "support@company.com"

# ═══════════════════════════════════════════════════════════════════════
# 🔐 إعدادات الأمان
# ═══════════════════════════════════════════════════════════════════════

SESSION_TIMEOUT = 3600  # ساعة
MAX_LOGIN_ATTEMPTS = 5
ENABLE_MFA = False  # تفعيل المصادقة الثنائية

# ═══════════════════════════════════════════════════════════════════════
# 📊 إعدادات التقارير والإحصائيات
# ═══════════════════════════════════════════════════════════════════════

REPORT_TYPES = [
    "تقرير حالة الموظفين",
    "تقرير الطلبات المعلقة",
    "تقرير الموافقات",
    "تقرير الوثائق المنتهية",
    "تقرير الأداء",
]

# ═══════════════════════════════════════════════════════════════════════
# 🌍 إعدادات اللغة والمنطقة
# ═══════════════════════════════════════════════════════════════════════

LANGUAGE = "ar"
TIMEZONE = "Asia/Riyadh"
DATE_FORMAT = "%d-%m-%Y"
TIME_FORMAT = "%H:%M:%S"

# ═══════════════════════════════════════════════════════════════════════
# ✅ دالة التحقق من الإعدادات
# ═══════════════════════════════════════════════════════════════════════

def validate_config():
    """تحقق من أن جميع الإعدادات صحيحة"""
    errors = []
    
    if SUPABASE_URL == "https://your-project.supabase.co":
        errors.append("❌ أدخل SUPABASE_URL الصحيح")
    
    if SUPABASE_KEY == "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...":
        errors.append("❌ أدخل SUPABASE_KEY الصحيح")
    
    if errors:
        print("⚠️ مشاكل في الإعدادات:")
        for error in errors:
            print(f"   {error}")
        return False
    
    print("✅ جميع الإعدادات صحيحة!")
    return True

# ═══════════════════════════════════════════════════════════════════════
# 🧪 اختبر الإعدادات عند تشغيل الملف مباشرة
# ═══════════════════════════════════════════════════════════════════════

if __name__ == "__main__":
    validate_config()
